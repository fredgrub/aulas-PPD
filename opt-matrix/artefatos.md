Sobre o CPU: `cat /proc/cpuinfo` ou `lscpu`.

Pacotes instalados: `default-{jre,jdk} clang libc++-dev libomp-dev`

Compilando o c√≥digo `mm.c`: `clang -O3 mm.c -o mm`

Editor https://latexeditor.lagrida.com/ (font size = 28)

```tex
C_{ij} = \sum_{k=1}^{n} A_{ik} B_{kj}
```

```tex
C = A \times B =
\begin{pmatrix}
c_{11} & c_{12} & \cdots & c_{1n} \\
c_{21} & c_{22} & \cdots & c_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
c_{n1} & c_{n2} & \cdots & c_{nn} \\
\end{pmatrix}
=
\begin{pmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \\
a_{21} & a_{22} & \cdots & a_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
a_{n1} & a_{n2} & \cdots & a_{nn} \\
\end{pmatrix}
\times
\begin{pmatrix}
b_{11} & b_{12} & \cdots & b_{1n} \\
b_{21} & b_{22} & \cdots & b_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
b_{n1} & b_{n2} & \cdots & b_{nn} \\
\end{pmatrix}
```

# Experimentos

# ordem i, j, k

```
==6458== 
==6458== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==6458== Collected : 43545192180 17343485194 117456772 1421 8609830066 5767832 1414 8595698681 5767808
==6458== 
==6458== I   refs:      43,545,192,180
==6458== I1  misses:             1,421
==6458== LLi misses:             1,414
==6458== I1  miss rate:           0.00%
==6458== LLi miss rate:           0.00%
==6458== 
==6458== D   refs:      17,460,941,966  (17,343,485,194 rd + 117,456,772 wr)
==6458== D1  misses:     8,615,597,898  ( 8,609,830,066 rd +   5,767,832 wr)
==6458== LLd misses:     8,601,466,489  ( 8,595,698,681 rd +   5,767,808 wr)
==6458== D1  miss rate:           49.3% (          49.6%   +         4.9%  )
==6458== LLd miss rate:           49.3% (          49.6%   +         4.9%  )
==6458== 
==6458== LL refs:        8,615,599,319  ( 8,609,831,487 rd +   5,767,832 wr)
==6458== LL misses:      8,601,467,903  ( 8,595,700,095 rd +   5,767,808 wr)
==6458== LL miss rate:            14.1% (          14.1%   +         4.9%  )
```

# ordem i, k, j

```
==8593== 
==8593== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==8593== Collected : 24209450581 8753550557 4408229737 1424 1095230642 1573528 1417 1084032249 1573504
==8593== 
==8593== I   refs:      24,209,450,581
==8593== I1  misses:             1,424
==8593== LLi misses:             1,417
==8593== I1  miss rate:           0.00%
==8593== LLi miss rate:           0.00%
==8593== 
==8593== D   refs:      13,161,780,294  (8,753,550,557 rd + 4,408,229,737 wr)
==8593== D1  misses:     1,096,804,170  (1,095,230,642 rd +     1,573,528 wr)
==8593== LLd misses:     1,085,605,753  (1,084,032,249 rd +     1,573,504 wr)
==8593== D1  miss rate:            8.3% (         12.5%   +           0.0%  )
==8593== LLd miss rate:            8.2% (         12.4%   +           0.0%  )
==8593== 
==8593== LL refs:        1,096,805,594  (1,095,232,066 rd +     1,573,528 wr)
==8593== LL misses:      1,085,607,170  (1,084,033,666 rd +     1,573,504 wr)
==8593== LL miss rate:             2.9% (          3.3%   +           0.0%  )
```

# ordem j, i, k

```
==8985== 
==8985== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==8985== Collected : 43557768947 17343485195 117456769 1422 9667871922 5767832 1415 9667871737 5767808
==8985== 
==8985== I   refs:      43,557,768,947
==8985== I1  misses:             1,422
==8985== LLi misses:             1,415
==8985== I1  miss rate:           0.00%
==8985== LLi miss rate:           0.00%
==8985== 
==8985== D   refs:      17,460,941,964  (17,343,485,195 rd + 117,456,769 wr)
==8985== D1  misses:     9,673,639,754  ( 9,667,871,922 rd +   5,767,832 wr)
==8985== LLd misses:     9,673,639,545  ( 9,667,871,737 rd +   5,767,808 wr)
==8985== D1  miss rate:           55.4% (          55.7%   +         4.9%  )
==8985== LLd miss rate:           55.4% (          55.7%   +         4.9%  )
==8985== 
==8985== LL refs:        9,673,641,176  ( 9,667,873,344 rd +   5,767,832 wr)
==8985== LL misses:      9,673,640,960  ( 9,667,873,152 rd +   5,767,808 wr)
==8985== LL miss rate:            15.9% (          15.9%   +         4.9%  )
```

# ordem j, k, i

```
==10256== 
==10256== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==10256== Collected : 47840153367 17343485201 8703197066 1421 17184064690 1573528 1414 17184064505 1573504
==10256== 
==10256== I   refs:      47,840,153,367
==10256== I1  misses:             1,421
==10256== LLi misses:             1,414
==10256== I1  miss rate:           0.00%
==10256== LLi miss rate:           0.00%
==10256== 
==10256== D   refs:      26,046,682,267  (17,343,485,201 rd + 8,703,197,066 wr)
==10256== D1  misses:    17,185,638,218  (17,184,064,690 rd +     1,573,528 wr)
==10256== LLd misses:    17,185,638,009  (17,184,064,505 rd +     1,573,504 wr)
==10256== D1  miss rate:           66.0% (          99.1%   +           0.0%  )
==10256== LLd miss rate:           66.0% (          99.1%   +           0.0%  )
==10256== 
==10256== LL refs:       17,185,639,639  (17,184,066,111 rd +     1,573,528 wr)
==10256== LL misses:     17,185,639,423  (17,184,065,919 rd +     1,573,504 wr)
==10256== LL miss rate:            23.3% (          26.4%   +           0.0%  )
```

# ordem k, i, j

```
Time: 272.902893 sec
==12429== 
==12429== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==12429== Collected : 24222027305 8753550548 4408229730 1422 1095230642 1573528 1415 1078502373 1573504
==12429== 
==12429== I   refs:      24,222,027,305
==12429== I1  misses:             1,422
==12429== LLi misses:             1,415
==12429== I1  miss rate:           0.00%
==12429== LLi miss rate:           0.00%
==12429== 
==12429== D   refs:      13,161,780,278  (8,753,550,548 rd + 4,408,229,730 wr)
==12429== D1  misses:     1,096,804,170  (1,095,230,642 rd +     1,573,528 wr)
==12429== LLd misses:     1,080,075,877  (1,078,502,373 rd +     1,573,504 wr)
==12429== D1  miss rate:            8.3% (         12.5%   +           0.0%  )
==12429== LLd miss rate:            8.2% (         12.3%   +           0.0%  )
==12429== 
==12429== LL refs:        1,096,805,592  (1,095,232,064 rd +     1,573,528 wr)
==12429== LL misses:      1,080,077,292  (1,078,503,788 rd +     1,573,504 wr)
==12429== LL miss rate:             2.9% (          3.3%   +           0.0%  )
```

# ordem k, j, i

```
==13135== 
==13135== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==13135== Collected : 47827576599 17343485201 8703197066 1421 17184064690 1573528 1414 17184064505 1573504
==13135== 
==13135== I   refs:      47,827,576,599
==13135== I1  misses:             1,421
==13135== LLi misses:             1,414
==13135== I1  miss rate:           0.00%
==13135== LLi miss rate:           0.00%
==13135== 
==13135== D   refs:      26,046,682,267  (17,343,485,201 rd + 8,703,197,066 wr)
==13135== D1  misses:    17,185,638,218  (17,184,064,690 rd +     1,573,528 wr)
==13135== LLd misses:    17,185,638,009  (17,184,064,505 rd +     1,573,504 wr)
==13135== D1  miss rate:           66.0% (          99.1%   +           0.0%  )
==13135== LLd miss rate:           66.0% (          99.1%   +           0.0%  )
==13135== 
==13135== LL refs:       17,185,639,639  (17,184,066,111 rd +     1,573,528 wr)
==13135== LL misses:     17,185,639,423  (17,184,065,919 rd +     1,573,504 wr)
==13135== LL miss rate:            23.3% (          26.4%   +           0.0%  )
```

# parallel loop

```
==15252== 
==15252== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==15252== Collected : 24227291246 8754335616 4408549648 3074 1115975692 1585125 2922 1083570478 1584987
==15252== 
==15252== I   refs:      24,227,291,246
==15252== I1  misses:             3,074
==15252== LLi misses:             2,922
==15252== I1  miss rate:           0.00%
==15252== LLi miss rate:           0.00%
==15252== 
==15252== D   refs:      13,162,885,264  (8,754,335,616 rd + 4,408,549,648 wr)
==15252== D1  misses:     1,117,560,817  (1,115,975,692 rd +     1,585,125 wr)
==15252== LLd misses:     1,085,155,465  (1,083,570,478 rd +     1,584,987 wr)
==15252== D1  miss rate:            8.5% (         12.7%   +           0.0%  )
==15252== LLd miss rate:            8.2% (         12.4%   +           0.0%  )
==15252== 
==15252== LL refs:        1,117,563,891  (1,115,978,766 rd +     1,585,125 wr)
==15252== LL misses:      1,085,158,387  (1,083,573,400 rd +     1,584,987 wr)
==15252== LL miss rate:             2.9% (          3.3%   +           0.0%  )
```

# parallel loop tiled 64

```
==16942== 
==16942== Events    : Ir Dr Dw I1mr D1mr D1mw ILmr DLmr DLmw
==16942== Collected : 25805865930 8883947168 4408463931 2775 1245724747 1580501 2617 28480049 1577987
==16942== 
==16942== I   refs:      25,805,865,930
==16942== I1  misses:             2,775
==16942== LLi misses:             2,617
==16942== I1  miss rate:           0.00%
==16942== LLi miss rate:           0.00%
==16942== 
==16942== D   refs:      13,292,411,099  (8,883,947,168 rd + 4,408,463,931 wr)
==16942== D1  misses:     1,247,305,248  (1,245,724,747 rd +     1,580,501 wr)
==16942== LLd misses:        30,058,036  (   28,480,049 rd +     1,577,987 wr)
==16942== D1  miss rate:            9.4% (         14.0%   +           0.0%  )
==16942== LLd miss rate:            0.2% (          0.3%   +           0.0%  )
==16942== 
==16942== LL refs:        1,247,308,023  (1,245,727,522 rd +     1,580,501 wr)
==16942== LL misses:         30,060,653  (   28,482,666 rd +     1,577,987 wr)
==16942== LL miss rate:             0.1% (          0.1%   +           0.0%  )
```